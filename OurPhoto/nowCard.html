<div class="card-columns mt-2" id="nowcardImages">
	<div class="card border">
		<div class="modaltarget">
			<img src="./img/nowCard/col1.jpg" alt="" class="card-img img-fluid" style="">
			<h5 class="mx-1 mt-3">只有站的高才能看得远。</h5>
		</div>
		<div class="card-body d-flex flex-row py-0 px-0 mx-1">
			<div class="d-flex flex-row position-relative">
				<img src="./img/userImg/01.jpg" alt="" class="mt-2"
					style="border-radius: 50%; width: 30px;height: 30px;">
				<a href="javascript:;" class="active ml-2 mt-2 py-1 stretched-link" style="color: black;">
					只因
				</a>

			</div>
			<div class="d-flex flex-grow-1 justify-content-end mt-2">
				<i class="bi bi-heart-fill mr-2" style="color: dimgrey;"></i>
				<p class="mr-2">250</p>
				<i class="bi bi-chat-left-fill ml-2 mr-2" style="color: dimgrey;"></i>
				<p>10</p>
			</div>
		</div>
	</div>

	<div class="card border">
		<div class="modaltarget">
			<img src="./img/hotCard/col2.jpg" alt="" class="card-img-top img-fluid">
			<h5 class="mx-1 mt-3">浪漫至死不渝，温柔绝对臣服。</h5>
		</div>
		<div class="card-body d-flex flex-row py-0 px-0 mx-1">
			<div class="d-flex flex-row position-relative">
				<img src="./img/userImg/06.jpg" alt="" class="mt-2"
					style="border-radius: 50%; width: 30px;height: 30px;">
				<a href="#" class="active ml-2 py-1 mt-2 stretched-link" style="color: black;">
					因英
				</a>
			</div>
			<div class="d-flex flex-grow-1 justify-content-end mt-2">
				<i class="bi bi-heart-fill mr-2" style="color: dimgrey;"></i>
				<p class="mr-2">2010</p>
				<i class="bi bi-chat-left-fill ml-2 mr-2" style="color: dimgrey;"></i>
				<p>530</p>
			</div>
		</div>
	</div>

	<div class="card border">
		<div class="modaltarget">
			<img src="./img/hotCard/col3.jpg" alt="" class="card-img-top img-fluid">
			<h5 class="mx-1 mt-3">风月都好看，人间也浪漫。</h5>
		</div>

		<div class="card-body d-flex flex-row py-0 px-0 mx-1">
			<div class="d-flex flex-row position-relative">
				<img src="./img/userImg/02.jpg" alt="" class="mt-2"
					style="border-radius: 50%; width: 30px;height: 30px;">
				<a href="#" class="active ml-2 py-1 mt-2 stretched-link" style="color: black;">
					小黑子
				</a>
			</div>
			<div class="d-flex flex-grow-1 justify-content-end mt-2">
				<i class="bi bi-heart-fill mr-2" style="color: dimgrey;"></i>
				<p class="mr-2">20</p>
				<i class="bi bi-chat-left-fill ml-2 mr-2" style="color: dimgrey;"></i>
				<p>5</p>
			</div>
		</div>
	</div>

	<div class="card border">
		<div class="modaltarget">
			<img src="./img/hotCard/col5.jpg" alt="" class="card-img-top img-fluid">
			<h5 class="mx-1 mt-3">不为感情流泪，只为干饭夜不能寐。</h5>
		</div>

		<div class="card-body d-flex flex-row py-0 px-0 mx-1">
			<div class="d-flex flex-row position-relative">
				<img src="./img/userImg/04.jpg" alt="" class="mt-2"
					style="border-radius: 50%; width: 30px;height: 30px;">
				<a href="#" class="active ml-2 py-1 mt-2 stretched-link" style="color: black;">
					Sharon
				</a>
			</div>
			<div class="d-flex flex-grow-1 justify-content-end mt-2">
				<i class="bi bi-heart-fill mr-2" style="color: dimgrey;"></i>
				<p class="mr-2">312</p>
				<i class="bi bi-chat-left-fill ml-2 mr-2" style="color: dimgrey;"></i>
				<p>55</p>
			</div>
		</div>
	</div>

	<div class="card border">
		<div class="modaltarget">
			<img src="./img/hotCard/col6.jpg" alt="" class="card-img-top img-fluid">
			<h5 class="mx-1 mt-3">少女的征途是星辰大海。</h5>
		</div>

		<div class="card-body d-flex flex-row py-0 px-0 mx-1">
			<div class="d-flex flex-row position-relative">
				<img src="./img/userImg/05.jpg" alt="" class="mt-2"
					style="border-radius: 50%; width: 30px;height: 30px;">
				<a href="#" class="active ml-2 py-1 mt-2 stretched-link" style="color: black;">
					小吖哟
				</a>
			</div>
			<div class="d-flex flex-grow-1 justify-content-end mt-2">
				<i class="bi bi-heart-fill mr-2" style="color: dimgrey;"></i>
				<p class="mr-2">1250</p>
				<i class="bi bi-chat-left-fill ml-2 mr-2" style="color: dimgrey;"></i>
				<p>359</p>
			</div>
		</div>
	</div>

	<div class="card border">
		<div class="modaltarget">
			<img src="./img/hotCard/col4.jpg" alt="" class="card-img-top img-fluid">
			<h5 class="mx-1 mt-3">前方的风景好，我的意思是别回头。</h5>
		</div>
		<div class="card-body d-flex flex-row py-0 px-0 mx-1">
			<div class=" d-flex flex-row position-relative">
				<img src="./img/userImg/03.jpg" alt="" class="mt-2"
					style="border-radius: 50%; width: 30px;height: 30px;">
				<a href="#" class="active ml-2 py-1 mt-2 stretched-link" style="color: black;">
					冰美式
				</a>
			</div>
			<div class="d-flex flex-grow-1 justify-content-end mt-2">
				<i class="bi bi-heart-fill mr-2" style="color: dimgrey;"></i>
				<p class="mr-2">96</p>
				<i class="bi bi-chat-left-fill ml-2 mr-2" style="color: dimgrey;"></i>
				<p>21</p>
			</div>
		</div>
	</div>
</div>
<!-- 模态弹出卡片内容 -->
<!-- <div id="">

</div> -->
<div class="modal fade allmodal" tabindex="-1" id="nowcard">
	<div class="modal-dialog modal-dialog-centered modal-xl" id="Userimg">
		<div class="modal-content">
			<div class="modal-header">
				<div class="d-flex flex-row my-0 mx-md-3">
					<img src="" alt="" class="img-fluid rounded-circle" style="width: 50px;height: 50px;">
					<h5 class="modal-title mt-2 ml-md-2"></h5>
				</div>
				<div class="d-flex flex-row ">
					<button class="btn align-self-center mr-2" id="clicklike">
						<i class="bi bi-heart-fill mr-1" style="color: dimgrey;"></i>
						<span>点赞</span>
					</button>
					<button type="button" class="btn text-light font-weight-bold bg-primary align-self-center"
						id="followHim">
						<span>关注</span>
					</button>
					<button type="button" class="close m-0" data-dismiss="modal">
						<span aria-hidden="true" style="font-size: 25px;" class="py-0">&times;</span>
					</button>
				</div>
			</div>
			<div class="modal-body">
				<div class="card d-flex align-items-center border-0">
					<img src="" alt="" class="card-img img-fluid  d-none d-lg-block" style="">
					<img src="" alt="" class="card-img img-fluid  d-lg-none " style="">
				</div>
				<div class="text-md-center mt-3">
					<h5 class="font-weight-bold"></h5>
				</div>
				<div class="mb-2">
					<div class="float-md-left d-flex flex-row">
						<h5 class="mr-3">留言</h5>
						<i class="bi bi-chat-left-dots" style="font-size: 20px;"></i>
						<span class="ml-1">1</span>
					</div>

				</div>
			</div>
			<form action="" class="mt-2 mx-3 mb-2">
				<div class="form-group">
					<textarea class="form-control"></textarea>
					<button type="button" class="btn btn-primary float-right mt-2">发送</button>
				</div>
				<h4>我的留言：</h4>
				<div class="border">
					<ul class="px-3 py-2 mb-2">

					</ul>
				</div>

			</form>
			<div class="cardalert" id="">
				<div class="d-flex flex-column justify-content-center">
					<i class="bi bi-emoji-wink align-items-center"></i>
					<p class="align-items-center">输入的内容不能为空哦</p>
				</div>
			</div>

		</div>
	</div>
</div>

<script>
	var showImg = document.querySelectorAll('.modaltarget');
	var userimg = document.querySelectorAll('.card-body');
	var imgurl = "/OurPhoto/img/hotCard/";
	var userurl = "/OurPhoto/img/userImg/"
	console.log(imgurl);
	for (var i = 0; i < showImg.length; i++) {
		var allshowImg = showImg[i].querySelectorAll('img');
		allshowImg.item(0).src = imgurl + "col" + (i + 1) + ".jpg";
		var alluserImg = userimg[i].querySelectorAll('img');
		alluserImg.item(0).src = userurl + i + ".jpg";
		// console.log(allshowImg);
		// console.log(i);
	}
	var allmodal = document.querySelectorAll(".allmodal");
	var comtUl = allmodal.item(1).querySelector("form").querySelector("ul");
	var comtText = allmodal.item(1).querySelector("textarea");
	var sendBtn = allmodal.item(1).querySelector("form").querySelector("button");
	var cardalert = allmodal.item(1).querySelector('.cardalert');
	sendBtn.addEventListener('click', function() {
		console.log(1111);
		// 判断内容是否为空 为空弹出弹框
		if (comtText.value == '') {
			cardalert.style.display = "flex";
			setTimeout(function() {
				cardalert.style.height = "90%";
				cardalert.style.opacity = 1;
			}, 100)
			//为防止用户短时间多次点击按钮，在弹窗出来时进行禁用
			sendBtn.disabled = true;
			setTimeout(function() {
				cardalert.style.opacity = 0;
				cardalert.style.height = "100%";
				cardalert.style.display = "none";
				sendBtn.disabled = false;
			}, 2000)
			return false;
		} else {
			var li = document.createElement('li');
			li.innerHTML = comtText.value +
				'<a href="javascript:;" class="float-right text-danger">删除</a>';
			comtUl.insertBefore(li, comtUl.children[0]);
			var as = comtUl.querySelectorAll('a');
			for (var i = 0; i < as.length; i++) {
				as[i].onclick = function() {
					comtUl.removeChild(this.parentNode);
				}
			}
		}
	})
	// 点赞功能
	var clicklike = allmodal.item(1).querySelector('#clicklike');
	var flag = 1;
	clicklike.addEventListener('click', function() {
		setTimeout(function() {
			var likesnum = clicklike.querySelector('span');
			var likecolor = clicklike.querySelector('i');
			if (flag == 1) {
				likecolor.style.color = '#ff0000';
				likesnum.textContent = parseInt(likesnum.textContent) + flag;
				return flag = 0;
			} else {
				likecolor.style.color = '#b6b6b6';
				likesnum.textContent = parseInt(likesnum.textContent) - 1;
				return flag = 1;
			}
		}, 100)
	})
</script>
